(window.webpackJsonp=window.webpackJsonp||[]).push([[204],{729:function(e,t,o){"use strict";o.r(t);var n=o(38),s=Object(n.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("p",[e._v("After you have the following, you can get an access token and make a request to an endpoint.")]),e._v(" "),o("ul",[o("li",[e._v("An Okta OpenID Connect or OAuth 2.0 Service app")]),e._v(" "),o("li",[e._v("One or more grants associated with that app")]),e._v(" "),o("li",[e._v("Users with appropriate permissions associated with the app")]),e._v(" "),o("li",[e._v("Users with appropriate administrator permissions in Okta")])]),e._v(" "),o("p",[e._v("Request an access token by making a request to your Okta "),o("RouterLink",{attrs:{to:"/docs/concepts/auth-servers/"}},[e._v("Org Authorization Server")]),e._v(" "),o("code",[e._v("/authorize")]),e._v(" endpoint. Only the Org Authorization Server can mint access tokens that contain Okta API scopes.")],1),e._v(" "),o("p",[e._v("This page helps you build a request in Postman. You can also manually build the request URL and paste it into a private browser window. After you authenticate, the browser returns the access token in the address bar. Your request URL should look something like this:")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("    https://{yourOktadomain}/oauth2/v1/authorize?client_id=0oan47pj9BsB30h7&response_type=token&response_mode=fragment&scope=okta.users.read&redirect_ur{yourConfiguredRedirectUri}&nonce=UBGW&state=1234\n")])])]),o("p",[e._v("We recommend that you always use the Authorization Code grant flow. See "),o("RouterLink",{attrs:{to:"/docs/guides/implement-auth-code/"}},[e._v("Implement the Authorization Code Flow")]),e._v(" for details on this grant type.")],1),e._v(" "),o("blockquote",[o("p",[o("strong",[e._v("Note:")]),e._v(" If this is your first time working with the Okta APIs, read "),o("a",{attrs:{href:"https://developer.okta.com/code/rest/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Get Started with the Okta REST APIs"),o("OutboundLink")],1),e._v(" first.")])]),e._v(" "),o("ol",[o("li",[o("p",[e._v("In Postman, select the request that you want to make, such as a "),o("code",[e._v("GET")]),e._v(" request to the "),o("code",[e._v("/api/v1/users")]),e._v(" endpoint to get back a list of all users.")])]),e._v(" "),o("li",[o("p",[e._v("On the "),o("strong",[e._v("Header")]),e._v(" tab, remove the existing SSWS Authorization API Key.")])]),e._v(" "),o("li",[o("p",[e._v("Click the "),o("strong",[e._v("Authorization")]),e._v(" tab and from the "),o("strong",[e._v("Type")]),e._v(" drop-down list, select "),o("strong",[e._v("OAuth 2.0")]),e._v(".")])]),e._v(" "),o("li",[o("p",[e._v("On the right, click "),o("strong",[e._v("Get New Access Token")]),e._v(".")])]),e._v(" "),o("li",[o("p",[e._v("In the dialog box that appears, enter a name for the token and select "),o("strong",[e._v("Authorization Code (With PKCE)")]),e._v(" as the grant type.")])]),e._v(" "),o("li",[o("p",[e._v("Define the following for the token request:")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Callback URL")]),e._v(" — Define the callback location where Okta returns the token after the user finishes authenticating. This URL must match one of the redirect URIs that you configured in the "),o("GuideLink",{attrs:{link:"../create-oauth-app"}},[e._v("Create an OAuth 2.0 app in Okta")]),e._v(" section.")],1),e._v(" "),o("li",[o("strong",[e._v("Auth URL")]),e._v(" — Enter the authorization endpoint for your Org Authorization Server. For example: "),o("code",[e._v("https://{yourOktadomain}/oauth2/v1/authorize")])]),e._v(" "),o("li",[o("strong",[e._v("Access Token URL")]),e._v(" — Enter the token endpoint for your Org Authorization Server. For example: "),o("code",[e._v("https://{yourOktadomain}/oauth2/v1/token")])]),e._v(" "),o("li",[o("strong",[e._v("Code Challenge Method")]),e._v(" — Leave the default of "),o("code",[e._v("SHA-256")]),e._v(" selected")]),e._v(" "),o("li",[o("strong",[e._v("Code Verifier")]),e._v(" — Leave it empty so that Postman generates its own")]),e._v(" "),o("li",[o("strong",[e._v("Client ID")]),e._v(" — Use the "),o("code",[e._v("client_id")]),e._v(" of your Okta OAuth application that you created in the "),o("GuideLink",{attrs:{link:"../create-oauth-app"}},[e._v("previous step")]),e._v(".")],1),e._v(" "),o("li",[o("strong",[e._v("Scope")]),e._v(" — Include the scopes that allow you to perform the actions on the endpoint that you want to access. The scopes requested for the access token must already exist in the application's grants collection and the user must have the permission to perform those actions. See "),o("GuideLink",{attrs:{link:"../scopes"}},[e._v("Scopes and supported endpoints")]),e._v(" for more information.")],1),e._v(" "),o("li",[o("strong",[e._v("State")]),e._v(" — Use any alphanumeric value. The authorization server reflects this string when redirecting the browser back to the client, which your client can verify to help prevent cross-site request forgery attacks.")]),e._v(" "),o("li",[o("strong",[e._v("Client Authentication")]),e._v(" — Set to "),o("strong",[e._v("Send client credentials in body")]),e._v(".")])])]),e._v(" "),o("li",[o("p",[e._v("Click "),o("strong",[e._v("Request Token")]),e._v(". You are prompted to sign in to your Okta org. After you are authenticated, the "),o("strong",[e._v("Manage Access Tokens")]),e._v(" window displays the access token, including the scopes requested. The token also automatically populates the "),o("strong",[e._v("Available Token")]),e._v(" drop-down list.")]),e._v(" "),o("blockquote",[o("p",[o("strong",[e._v("Note:")]),e._v(" The lifetime for this token is fixed at one hour.")])])]),e._v(" "),o("li",[o("p",[e._v("Click "),o("strong",[e._v("Use Token")]),e._v(" at the bottom of the window to use this access token in your request to the "),o("code",[e._v("/users")]),e._v(" endpoint.")])]),e._v(" "),o("li",[o("p",[e._v("Click "),o("strong",[e._v("Send")]),e._v(". Since you requested "),o("code",[e._v("okta.users.read")]),e._v(", the response should contain an array of all the users associated with your app. This is dependent on the user's permissions.")])])]),e._v(" "),o("NextSectionLink")],1)}),[],!1,null,null,null);t.default=s.exports}}]);