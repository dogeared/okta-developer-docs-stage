(window.webpackJsonp=window.webpackJsonp||[]).push([[346],{423:function(e,t,o){"use strict";o.r(t);var a=o(38),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("div",{staticStyle:{"font-size":"0.9em","margin-bottom":"-20px"}},[o("a",{attrs:{href:"/books/api-security/api-keys/"}},[e._v("← Managing API Credentials")])]),e._v(" "),o("h2",{attrs:{id:"api-keys-keep-keys-private"}},[e._v("Keep Your Credentials Private "),o("a",{staticClass:"header-anchor header-link",attrs:{href:"#api-keys-keep-keys-private"}},[o("svg",{attrs:{viewBox:"0 0 512 512"}},[o("path",{attrs:{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"}})])])]),e._v(" "),o("p",[e._v("No matter whether you are using an API or building your own, the advice applies to you: Never put an API secret into your code. Never ever!")]),e._v(" "),o("p",[e._v("The biggest problem with storing credentials in source code is that once a credential is in source code it's exposed to any developers who have access to that code, including your version control provider.")]),e._v(" "),o("p",[e._v("Many people use GitHub to host their source code — what happens when you push company code containing sensitive credentials? That means GitHub staff can now view your credentials; it's a security risk. If that project is later shared with contractors, partners, customers, or even made public, your secret is no longer secret. The same is true for open source projects — accidentally publishing test API tokens or other sensitive data will cause enormous problems. There are attackers who scan GitHub commits looking for sensitive data like Amazon Web Services API tokens and then use these credentials to do things like mine cryptocurrencies, form botnets, and enable fraud.")]),e._v(" "),o("p",[e._v("If you can't store your credentials in source code, how should you authenticate to your databases or 3rd party APIs? The short answer is to use environment variables instead. What that means is ignoring what you see in sample code (where secrets are entered directly into source) and instead loading secrets from environment variables which are managed from outside your source code and will not be stored in version control and every team member's text editor.")]),e._v(" "),o("p",[e._v("Below are two short snippets of sample code that demonstrate how important it is to use environment variables to store credentials.")]),e._v(" "),o("p",[e._v("Below we have some example Python code from Twilio. In this example, the "),o("code",[e._v("AC01a2bcd3e4fg567h89012i34jklmnop5")]),e._v(' string is the "username" or "account ID" and the the '),o("code",[e._v("01234567890a12b34c567890de123fg4")]),e._v(" string is the API token.")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",[o("code",[e._v('from twilio.rest import Client\n\naccount_sid = "AC01a2bcd3e4fg567h89012i34jklmnop5"\nauth_token = "01234567890a12b34c567890de123fg4"\nclient = Client(account_sid, auth_token)\n')])])]),o("p",[e._v("As you can see above, these API credentials are hard-coded into the program's source. This is a big no-no. Instead, as an example of what you "),o("em",[e._v("should")]),e._v(' do, take a look at this example code from SendGrid, which uses the "os.environ.get" method in Python to grab the SendGrid API token from the '),o("code",[e._v("SENDGRID_API_KEY")]),e._v(" environment variable.")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",[o("code",[e._v("import os\nimport sendgrid\nfrom sendgrid.helpers.mail import *\n\napikey=os.environ.get('SENDGRID_API_KEY')\nsg = sendgrid.SendGridAPIClient(apikey)\n")])])]),o("p",[e._v("By pulling sensitive credentials from environment variables, which can be managed by configuration management and secret management software, your application code will remain credential-free.")]),e._v(" "),o("p",[e._v("Using environment variables to store secrets is an incredibly important first step to take in securing your code.")])])}),[],!1,null,null,null);t.default=n.exports}}]);