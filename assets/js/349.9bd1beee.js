(window.webpackJsonp=window.webpackJsonp||[]).push([[349],{429:function(e,t,a){"use strict";a.r(t);var o=a(23),s=Object(o.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("div",{staticStyle:{"font-size":"0.9em","margin-bottom":"-20px"}},[a("a",{attrs:{href:"/books/api-security/authn/"}},[e._v("‚Üê Authentication")])]),e._v(" "),a("h2",{attrs:{id:"authn-api-authentication-options"}},[e._v("API Authentication Options "),a("a",{staticClass:"header-anchor header-link",attrs:{href:"#authn-api-authentication-options"}},[a("svg",{attrs:{viewBox:"0 0 512 512"}},[a("path",{attrs:{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"}})])])]),e._v(" "),a("p",[e._v("The first type of API authentication I'll talk about is HTTP Basic Authentication.")]),e._v(" "),a("p",[e._v("HTTP Basic Authentication is defined by "),a("a",{attrs:{href:"https://tools.ietf.org/html/rfc7617",target:"_blank",rel:"noopener noreferrer"}},[e._v("RFC 7617"),a("OutboundLink")],1),e._v(". This document was created in September 2015 by the internet standards body known as The Internet Engineering Task Force (IETF). It replaces "),a("a",{attrs:{href:"https://tools.ietf.org/html/rfc2617",target:"_blank",rel:"noopener noreferrer"}},[e._v("RFC 2617"),a("OutboundLink")],1),e._v(", which was created in 1999 and defined both basic and digest authentication.")]),e._v(" "),a("p",[e._v("Basic authentication is the simplest form of web authentication. It's a stateless protocol that doesn't require cookies, session identifiers, or login pages (like most other forms of web authentication today).")]),e._v(" "),a("h3",{attrs:{id:"http-basic-authentication"}},[e._v("HTTP Basic Authentication "),a("a",{staticClass:"header-anchor header-link",attrs:{href:"#http-basic-authentication"}},[a("svg",{attrs:{viewBox:"0 0 512 512"}},[a("path",{attrs:{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 01-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0120.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0020.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 00-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"}})])])]),e._v(" "),a("p",[e._v("Basic authentication works as follows:")]),e._v(" "),a("ol",[a("li",[e._v("When a client sends a request to the server, the server returns a "),a("code",[e._v("401 Unauthorized")]),e._v(" response status and provides information on how to authenticate with a "),a("code",{staticStyle:{"word-break":"keep-all"}},[e._v("WWW-Authenticate")]),e._v(" response header.")]),e._v(" "),a("li",[e._v("If the client is a browser, a built-in browser dialog will prompt the user for a username and password. A programmer has no control over what this dialog looks like.")]),e._v(" "),a("li",[e._v("When a browser sends the user's credentials to the server, the username and password are combined with a colon separator ("),a("code",[e._v("username:password")]),e._v("), base64-encoded, then added to the "),a("code",[e._v("Authorization")]),e._v(" header like so:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Authorization: Basic base64(username:password)\n")])])]),a("p",[e._v("The server will receive this request, decode the authorization header, split on the colon, and use the credentials to validate the user has access to perform the operation.")]),e._v(" "),a("p",[e._v('When using HTTP Basic Authentication to secure APIs, its recommended the username and password be long, random strings rather than easy-to-remember names. Entropy means a "lack of order and predictability" and is very important for passwords, especially if you\'re generating them. The more random your password generation process is, the better. One important aspect is that the API username and password must not be the same username and password as the account\'s username and password. Not only are their security implications of using the same credentials but something as simple as clicking "forgot password" can knock your applications offline.')]),e._v(" "),a("p",[e._v("While basic auth is perfectly fine to use, one of its issues is that your username+password are sent over the network on every request. This increases the likelihood that they could be leaked, logged, or reused in other applications.")]),e._v(" "),a("p",[e._v("Basic authentication has other long term issues as well:")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("Key rotation")]),e._v(" - What happens if you have an app running with basic authentication in production and you accidentally publish your API key on GitHub? As an API provider, you need a strategy for supporting multiple keys so your users can rotate them without downtime.")]),e._v(" "),a("li",[a("strong",[e._v("Delegation")]),e._v(" - If you're building an API that needs to run for a third party (like a Google API for grabbing someone's friends), you don't want to use Basic because it would require a username/password to be given to your app from a user. If this is the account username, there is no delegation or scoping of permissions.")]),e._v(" "),a("li",[a("strong",[e._v("Browsers")]),e._v(" - If your API needs to be consumed from an insecure environment (JavaScript front end, mobile app, etc.), you can't just embed an API key in your app, otherwise attackers would grab it and do bad things.")])]),e._v(" "),a("p",[e._v("Several authentication schemes use the HTTP authentication framework. Schemes can differ in security strength and their availability in client or server software. All schemes use an "),a("code",[e._v("Authorization")]),e._v(" header followed by scheme name and a space character. Common "),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication/#Authentication_schemes",target:"_blank",rel:"noopener noreferrer"}},[e._v("scheme names"),a("OutboundLink")],1),e._v(" include:")]),e._v(" "),a("ul",[a("li",[e._v("Basic")]),e._v(" "),a("li",[e._v("Digest")]),e._v(" "),a("li",[e._v("Bearer (for OAuth 2.0)")]),e._v(" "),a("li",[e._v("HOBA (HTTP Origin-Bound Authentication, RFC 7486, draft)")]),e._v(" "),a("li",[e._v("Mutual (Mutual Authentication Protocol, draft)")]),e._v(" "),a("li",[e._v("Signature (HTTP Signatures and AWS4-HMAC-SHA256)")])]),e._v(" "),a("p",[e._v("Basic authentication is easy to implement for APIs, but it's not often used in web applications because the login form can't be customized and \"logging out\" requires closing the browser.")])])}),[],!1,null,null,null);t.default=s.exports}}]);